{{extend 'layout.html'}}
<h1>
    {{=QuestionName}}
</h1>
<hr>
    {{=QuestionText}}
<hr>
<h4 class="col-md-12">
    Submit answer
</h4>
<hr>
<!-- Adding my own custom form. This will take the code file from the user and submit it to the processSubmission() function this will compile and run the code file and update the log table  -->

<div class="box sidebar_inner controls well well-small">
    {{=form}}
</div>



<!-- Removing the part as the file is not getting uploaded
<form method="POST" action="../../processSubmission">
    <input type="hidden" value={{=contestID}} name="contestID">
    <input type="hidden" value={{=questionNumber}} name="questionNumber">
    <input type="hidden" value={{=QuestionName}} name="questionName">
    <div class="box sidebar_inner controls well well-small">
        <table class="table">
            <br> 
            <tr >
                <td width="200"></td>
                <td><input class="form-control string" id="submissionFile" name="submissionFile" type="file" value="" accept=".cpp, .c"></td>
                <td></td>
                <td><input type="submit" value="Submit Solution" class="btn-primary"></td>
                <td></td>
            </tr>
        </table>
    </div>
</form>
-->

    <br>
<br>
<br>

<div class="container col-lg-8" style="letter-spacing: 2px; margin-left:15%" >
    <div class="panel panel-primary" style="text-align: center"  >
        <div class="panel-heading lead text-uppercase" style="letter-spacing: 8px;"> Current activity</div>
        <div class="panel-body text-info">
            <table class="table table-striped">
              <tr>
                <td><b>Problem</b></td>
            <td><b>Submission Time</b></td>
            <td><b>User</b></td>
            <td><b>Result</b></td>
        </tr>
        {{for log in logs:}}
        <tr>
            <td>{{=log.questionName}}</td>
            <td>{{=log.submissionTime}}</td>
            <td>{{=db(db.auth_user == log.userID).select(db.auth_user.handle)[0].handle}}</td>
            <td>
                <div id="changeColor" style="color:Red">
                    {{=log.submissionResult}}
                </div>
                <script type="text/javascript">
                    if("{{=log.submissionResult}}" == "Accepted")
                        document.getElementById('changeColor').style.color = "Green";
                </script>
            </td>
        </tr>
        {{pass}}
            </table>
        </div>
    </div>
</div>

